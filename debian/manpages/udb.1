.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.49.1.
.TH UDB "1" "December 2023" "udb 1.0.0a6.dev28+ga3c0978.d20230421" "User Commands"
.SH NAME
udb \- manual page for udb 1.0.0a6.dev28+ga3c0978.d20230421
.SH DESCRIPTION
usage: udb [\-h] [\-d] [\-f CONFIG] [\-v] [\-\-server\-host IP] [\-\-server\-port PORT]
.IP
[\-\-external\-url URL] [\-\-log\-file FILE] [\-\-log\-access\-file FILE]
[\-\-log\-level {ERROR,WARN,INFO,DEBUG}] [\-\-default\-lang DEFAULT_LANG]
[\-\-default\-timezone DEFAULT_TIMEZONE] [\-\-session\-dir FOLDER]
[\-\-rate\-limit LIMIT] [\-\-session\-idle\-timeout MINUTES]
[\-\-session\-absolute\-timeout MINUTES]
[\-\-session\-persistent\-timeout MINUTES] [\-\-database\-uri URI]
[\-\-admin\-user USERNAME] [\-\-admin\-password USERNAME]
[\-\-add\-missing\-user] [\-\-add\-user\-default\-role {admin,user,guest}]
[\-\-ldap\-uri LDAP_URI] [\-\-ldap\-base\-dn DN]
[\-\-ldap\-scope {base,onelevel,subtree}] [\-\-ldap\-tls]
[\-\-ldap\-username\-attribute ATTRIBUTE]
[\-\-ldap\-user\-filter LDAP_USER_FILTER] [\-\-ldap\-admin\-group CN]
[\-\-ldap\-subnet\-mgmt\-group CN] [\-\-ldap\-dnszone\-mgmt\-group CN]
[\-\-ldap\-user\-group CN] [\-\-ldap\-guest\-group CN]
[\-\-ldap\-group\-filter LDAP_GROUP_FILTER]
[\-\-ldap\-group\-attribute ATTRIBUTE] [\-\-ldap\-group\-attribute\-is\-dn]
[\-\-ldap\-bind\-dn DN] [\-\-ldap\-bind\-password PASSWORD]
[\-\-ldap\-version {2,3}] [\-\-ldap\-network\-timeout SECONDS]
[\-\-ldap\-timeout SECONDS] [\-\-ldap\-encoding ENCODING]
[\-\-ldap\-fullname\-attribute LDAP_FULLNAME_ATTRIBUTE]
[\-\-ldap\-firstname\-attribute LDAP_FIRSTNAME_ATTRIBUTE]
[\-\-ldap\-lastname\-attribute LDAP_LASTNAME_ATTRIBUTE]
[\-\-ldap\-email\-attribute LDAP_EMAIL_ATTRIBUTE]
[\-\-smtp\-server SERVER] [\-\-smtp\-username USERNAME]
[\-\-smtp\-password PASSWORD] [\-\-smtp\-from SERVER]
[\-\-smtp\-encryption {none,ssl,starttls}]
[\-\-notification\-catch\-all\-email EMAIL] [\-\-favicon FAVICON]
[\-\-header\-logo HEADER_LOGO] [\-\-header\-name NAME]
[\-\-footer\-name NAME] [\-\-footer\-url URL]
[\-\-password\-score PASSWORD_SCORE] [\-\-umask UMASK] [\-\-user USER]
[\-\-group GROUP]
.PP
A web interface to manage IT network
.SS "options:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-d\fR, \fB\-\-debug\fR
enable debug mode \- change the log level to DEBUG,
print exception stack trace to the web interface [env
var: UDB_DEBUG]
.TP
\fB\-f\fR CONFIG, \fB\-\-config\fR CONFIG
configuration file path
.TP
\fB\-v\fR, \fB\-\-version\fR
show program's version number and exit
.TP
\fB\-\-server\-host\fR IP
Define the IP address to listen to. Default: 127.0.0.1
[env var: UDB_SERVER_HOST]
.TP
\fB\-\-server\-port\fR PORT
Define the port to listen to. Default: 8080 [env var:
UDB_SERVER_PORT]
.TP
\fB\-\-external\-url\fR URL
URL that should be used to reach this service. You can
use the IP of your server, but a Fully Qualified
Domain Name (FQDN) is preferred. [env var:
UDB_EXTERNAL_URL]
.TP
\fB\-\-log\-file\fR FILE
Define the location of the log file. [env var:
UDB_LOG_FILE]
.TP
\fB\-\-log\-access\-file\fR FILE
Define the location of the access log file. [env var:
UDB_LOG_ACCESS_FILE]
.TP
\fB\-\-log\-level\fR {ERROR,WARN,INFO,DEBUG}, \fB\-\-loglevel\fR {ERROR,WARN,INFO,DEBUG}
Define the log level. [env var: UDB_LOG_LEVEL]
.TP
\fB\-\-default\-lang\fR DEFAULT_LANG
default application locale. e.g.: `fr` [env var:
UDB_DEFAULT_LANG]
.TP
\fB\-\-default\-timezone\fR DEFAULT_TIMEZONE
default application timezone. e.g.: `America/toronto`
uses server timezone by default. [env var:
UDB_DEFAULT_TIMEZONE]
.TP
\fB\-\-session\-dir\fR FOLDER, \fB\-\-sessiondir\fR FOLDER, \fB\-\-rate\-limit\-dir\fR FOLDER
location where to store user session information and
rate\-limit information. When undefined, the data are
kept in memory. [env var: UDB_SESSION_DIR]
.TP
\fB\-\-rate\-limit\fR LIMIT
maximum number of requests per hours that can be made
on sensitive endpoint. When this limit is reached, an
HTTP 429 message is returned to the user or user get
logged out. This security measure is used to limit
brute force attacks on the login page and the RESTful
API. Default: 20 [env var: UDB_RATE_LIMIT]
.TP
\fB\-\-session\-idle\-timeout\fR MINUTES
This timeout defines the amount of time a session will
remain active in case there is no activity in the
session. User Session will be revoke after this period
of inactivity, unless the user selected "remember me".
Default 5 minutes. [env var: UDB_SESSION_IDLE_TIMEOUT]
.TP
\fB\-\-session\-absolute\-timeout\fR MINUTES
This timeout defines the maximum amount of time a
session can be active. After this period, user is
forced to (re)authenticate, unless the user selected
"remember me". Default 20 minutes. [env var:
UDB_SESSION_ABSOLUTE_TIMEOUT]
.TP
\fB\-\-session\-persistent\-timeout\fR MINUTES
This timeout defines the maximum amount of time to
remember and trust a user device. This timeout is used
when user select "remember me". Default 30 days. [env
var: UDB_SESSION_PERSISTENT_TIMEOUT]
.TP
\fB\-\-database\-uri\fR URI
Location of the database used for persistence. SQLite
and PostgreSQL database are supported officially. To
use a SQLite database you may define the location
using a file path or a URI. e.g.: \fI\,/srv/udb/file.db\/\fP or
sqlite:///srv/udb/file.db`. To use PostgreSQL server
you must provide a URI similar to
postgresql://user:pass@10.255.1.34/dbname and you must
install required dependencies. By default, UDB uses a
SQLite embedded database located at ./data.db [env
var: UDB_DATABASE_URI]
.TP
\fB\-\-admin\-user\fR USERNAME, \fB\-\-adminuser\fR USERNAME
administrator username. The administrator user get
created on startup if the database is empty. [env var:
UDB_ADMIN_USER]
.TP
\fB\-\-admin\-password\fR USERNAME
administrator encrypted password as SSHA. Read online
documentation to know more about how to encrypt your
password into SSHA or use http://projects.marsching.or
g/weave4j/util/genpassword.php When defined,
administrator password cannot be updated using the web
interface. When undefined, default administrator
password is `admin123` and it can be updated using the
web interface. [env var: UDB_ADMIN_PASSWORD]
.TP
\fB\-\-add\-missing\-user\fR, \fB\-\-addmissinguser\fR
enable creation of users from LDAP when the credential
are valid. [env var: UDB_ADD_MISSING_USER]
.TP
\fB\-\-add\-user\-default\-role\fR {admin,user,guest}
default role used when creating users from LDAP. This
parameter is only useful when `\-\-add\-missing\-user` is
enabled. [env var: UDB_ADD_USER_DEFAULT_ROLE]
.TP
\fB\-\-ldap\-uri\fR LDAP_URI
URL to the LDAP server used to validate user
credentials. e.g.: ldap://localhost:389 [env var:
UDB_LDAP_URI]
.TP
\fB\-\-ldap\-base\-dn\fR DN, \fB\-\-ldapbasedn\fR DN
DN of the branch of the directory where all searches
should start from. e.g.: dc=my,dc=domain [env var:
UDB_LDAP_BASE_DN]
.TP
\fB\-\-ldap\-scope\fR {base,onelevel,subtree}
scope of the search. Can be either base, onelevel or
subtree [env var: UDB_LDAP_SCOPE]
.TP
\fB\-\-ldap\-tls\fR, \fB\-\-ldaptls\fR
enable TLS [env var: UDB_LDAP_TLS]
.TP
\fB\-\-ldap\-username\-attribute\fR ATTRIBUTE
The attribute to search username. If no attributes are
provided, the default is to use `uid`. It's a good
idea to choose an attribute that will be unique across
all entries in the subtree you will be using. [env
var: UDB_LDAP_USERNAME_ATTRIBUTE]
.TP
\fB\-\-ldap\-user\-filter\fR LDAP_USER_FILTER
search filter to limit LDAP lookup. If not provided,
defaults to `(objectClass=*)`, which searches for all
objects in the tree. For improved performance it's
recommanded to narrow the search to your user object
class. e.g.: `(objectClass=posixAccount)` [env var:
UDB_LDAP_USER_FILTER]
.TP
\fB\-\-ldap\-admin\-group\fR CN
list of CN of the group(s) containing administrator.
Not cn=groupname or the full DN. [env var:
UDB_LDAP_ADMIN_GROUP]
.TP
\fB\-\-ldap\-subnet\-mgmt\-group\fR CN
list of CN of the group(s) containing Subnet Managers.
Not cn=groupname or the full DN. [env var:
UDB_LDAP_SUBNET_MGMT_GROUP]
.TP
\fB\-\-ldap\-dnszone\-mgmt\-group\fR CN
list of CN of the group(s) containing DNS Zone
Managers. Not cn=groupname or the full DN. [env var:
UDB_LDAP_DNSZONE_MGMT_GROUP]
.TP
\fB\-\-ldap\-user\-group\fR CN
list of CN of the group(s) containing Users. Not
cn=groupname or the full DN. [env var:
UDB_LDAP_USER_GROUP]
.TP
\fB\-\-ldap\-guest\-group\fR CN, \fB\-\-ldap\-required\-group\fR CN
list of CN of the group(s) containing Guests. Not
cn=groupname or the full DN. [env var:
UDB_LDAP_GUEST_GROUP]
.TP
\fB\-\-ldap\-group\-filter\fR LDAP_GROUP_FILTER
search filter to limit LDAP lookup of groups. If not
provided, defaults to `(objectClass=*)`, which
searches for all objects in the tree. For improved
performance it's recommanded to narrow the search to
your group object class. e.g.:
`(objectClass=posixGroup)` [env var:
UDB_LDAP_GROUP_FILTER]
.TP
\fB\-\-ldap\-group\-attribute\fR ATTRIBUTE
name of the attribute on the Group that hold the list
of members. Default: `member`. Other common value is:
`memberUid` [env var: UDB_LDAP_GROUP_ATTRIBUTE]
.TP
\fB\-\-ldap\-group\-attribute\-is\-dn\fR
True If the group contains list of user defined with
DN instead of username. [env var:
UDB_LDAP_GROUP_ATTRIBUTE_IS_DN]
.TP
\fB\-\-ldap\-bind\-dn\fR DN
optional DN used to bind to the server when searching
for entries. If not provided, will use an anonymous
bind. [env var: UDB_LDAP_BIND_DN]
.TP
\fB\-\-ldap\-bind\-password\fR PASSWORD
password to use in conjunction with `\-\-ldap\-bind\-dn`.
Note that the bind password is probably sensitive
data, and should be properly protected. You should
only use the `\-\-ldap\-bind\-dn` and `\-\-ldap\-bindpassword` if you absolutely need them to search the
directory. [env var: UDB_LDAP_BIND_PASSWORD]
.TP
\fB\-\-ldap\-version\fR {2,3}
version of LDAP in use either 2 or 3. Default to 3.
[env var: UDB_LDAP_VERSION]
.TP
\fB\-\-ldap\-network\-timeout\fR SECONDS
timeout in seconds value used for LDAP connection [env
var: UDB_LDAP_NETWORK_TIMEOUT]
.TP
\fB\-\-ldap\-timeout\fR SECONDS
timeout in seconds value used for LDAP request [env
var: UDB_LDAP_TIMEOUT]
.TP
\fB\-\-ldap\-encoding\fR ENCODING
encoding used by your LDAP server. [env var:
UDB_LDAP_ENCODING]
.TP
\fB\-\-ldap\-fullname\-attribute\fR LDAP_FULLNAME_ATTRIBUTE
LDAP attribute for user display name. If `fullname` is
blank, the fullname is taken from the `firstname` and
`lastname`. Attributes 'cn', or 'displayName' commonly
carry full names. [env var:
UDB_LDAP_FULLNAME_ATTRIBUTE]
.TP
\fB\-\-ldap\-firstname\-attribute\fR LDAP_FIRSTNAME_ATTRIBUTE
LDAP attribute for user first name. Used when the
attribute configured for name does not exist. e.g.:
`givenName` [env var: UDB_LDAP_FIRSTNAME_ATTRIBUTE]
.TP
\fB\-\-ldap\-lastname\-attribute\fR LDAP_LASTNAME_ATTRIBUTE
LDAP attribute for user last name. Used when the
attribute configured for name does not exist. e.g.:
`sn` [env var: UDB_LDAP_LASTNAME_ATTRIBUTE]
.TP
\fB\-\-ldap\-email\-attribute\fR LDAP_EMAIL_ATTRIBUTE
LDAP attribute for user email. e.g.: mail, email,
userPrincipalName [env var: UDB_LDAP_EMAIL_ATTRIBUTE]
.TP
\fB\-\-smtp\-server\fR SERVER
SMTP server used to send email. [env var:
UDB_SMTP_SERVER]
.TP
\fB\-\-smtp\-username\fR USERNAME
Username used to authenticated with the SMTP server.
[env var: UDB_SMTP_USERNAME]
.TP
\fB\-\-smtp\-password\fR PASSWORD
Password used to authenticated with the SMTP server.
[env var: UDB_SMTP_PASSWORD]
.TP
\fB\-\-smtp\-from\fR SERVER
Email address used to send email. [env var:
UDB_SMTP_FROM]
.TP
\fB\-\-smtp\-encryption\fR {none,ssl,starttls}
type of encryption to be used when establishing
communication with SMTP server: none, ssl, starttls
[env var: UDB_SMTP_ENCRYPTION]
.TP
\fB\-\-notification\-catch\-all\-email\fR EMAIL
When defined, all notification email will be sent to
this email address. [env var:
UDB_NOTIFICATION_CATCH_ALL_EMAIL]
.TP
\fB\-\-favicon\fR FAVICON
location of an icon to be used as a favicon displayed
in web browser. [env var: UDB_FAVICON]
.TP
\fB\-\-header\-logo\fR HEADER_LOGO
location of an image (preferably a .png) to be used as
a replacement for the UDB header logo displayed in
navigation bar. [env var: UDB_HEADER_LOGO]
.TP
\fB\-\-header\-name\fR NAME
Name used in the title for this application. [env var:
UDB_HEADER_NAME]
.TP
\fB\-\-footer\-name\fR NAME
Text displayed in the footer along "power by". [env
var: UDB_FOOTER_NAME]
.TP
\fB\-\-footer\-url\fR URL
URL used in the footer along "power by". [env var:
UDB_FOOTER_URL]
.TP
\fB\-\-password\-score\fR PASSWORD_SCORE
Minimum zxcvbn's score for password. Value from 1 to
4. Default value 2. Read more about it here:
https://github.com/dropbox/zxcvbn [env var:
UDB_PASSWORD_SCORE]
.TP
\fB\-\-umask\fR UMASK
Force a specific umask value. Usually expressed in
octal format, for example, ``0022``. Default value is
inherit from parent process. [env var: UDB_UMASK]
.TP
\fB\-\-user\fR USER
User under which the server will answer requests. In
order to use this directive, the process must be run
initially as root. If you start the server as a nonroot user, it will fail to change to the lesser
privileged user, and will instead continue to run as
that original user. [env var: UDB_USER]
.TP
\fB\-\-group\fR GROUP
Group under which the server will answer requests. In
order to use this directive, the process must be run
initially as root. [env var: UDB_GROUP]
.PP
Args that start with '\-\-' (eg. \fB\-d\fR) can also be set in a config file
(\fI\,/etc/udb/udb.conf\/\fP or \fI\,/etc/udb/udb.conf\/\fP.d/*.conf or specified via \fB\-f\fR). Config
file syntax allows: key=value, flag=true, stuff=[a,b,c] (for details, see
syntax at https://goo.gl/R74nmi). If an arg is specified in more than one
place, then commandline values override environment variables which override
config file values which override defaults.
.SH "SEE ALSO"
The full documentation for
.B udb
is maintained as a Texinfo manual.  If the
.B info
and
.B udb
programs are properly installed at your site, the command
.IP
.B info udb
.PP
should give you access to the complete manual.