{% extends 'common/list.html' %}
{% set auto_width = False %}
{% set columns = [
  {'name':'id', 'visible':False},
  {'name':'status', 'visible':False, 'search': '(enabled|disabled)', 'regex':True},
  {'name':'name', 'title':form.name.label.text|string, 'orderable':True, 'render':'summary', 'render_arg':'dnsrecord', 'className':'export'},
  {'name':'type', 'title':form.type.label.text|string, 'orderable':True, 'className':'export'},
  {'name':'ttl', 'title':form.ttl.label.text|string, 'orderable':True, 'className':'export'},
  {'name':'value', 'title':form.value.label.text|string, 'orderable':True, 'className':'export'},
  {'name':'notes', 'title':form.notes.label.text|string, 'orderable':True, 'className':'export'},
  {'name':'owner', 'title':form.owner_id.label.text|string, 'orderable':True, 'className':'export'}
] %}
{# Add menu to filter by type. #}
{% set ns = namespace(type_btn=[]) %}
{% for t in model.TYPES|sort %}
  {% set ns.type_btn = ns.type_btn + [{'text': t, 'extend': 'btnfilter', 'column': 'type:name', 'search': '^' + t + '$' , 'regex': True}] %}
{% endfor %}
{% set type_menu = {'text': _('Type') + ' ', 'extend': 'collectionfilter', 'popoverTitle': _('Type'), 'buttons': ns.type_btn, 'column': 'type:name' } %}
{% set extra_buttons = [type_menu] %}
